# Jenkins



## 持续集成是什么？



持续集成，源于极限编程(XP)，是一种软件实践，软件开发过程中集成步骤是一个漫长并且无法预测的过程。集成过程中可能会爆发大量的问题，因此集成过程需要尽可能小而多，实际上持续集成讲的是不断的去做软件的集成工作。



###  **持续集成有什么作用？**



- 场景一、某项目最后做模块集成的时候，发现很多接口都不通，甚至有的模块连安装包都没有。
- 场景二、没有可用的软件包，需要人手动去编译打包最新的代码。
- 场景三、搭建测试环境的时候，需要手动去解压包，然后一系列拷贝修改配置等等。
- 场景四、团队成员或者 teamleader 想了解当前项目的状态，该如何去展示这些信息。

持续集成就是用来解决以上问题，它的价值主要在于减少重复的步骤，降低项目的风险，任何时间任何地点生成可用的软件，增强项目的可见性等。





##  Jenkins 是什么



- 持续集成是一种实践，而 Jenkins 可以帮助团队去尽量好的去完成这种实践。

  >即，Jenkins 是一个持续集成的工具。

- Jenkins 是基于 Java 语言的开源持续集成工具，提供了一套非常易用的用户界面，用以自动化构建、测试、部署等功能。

- Jenkins 类似于 Eclipse ，基于插件化的架构，方便功能的扩展，目前有几百个现成插件可以使用，这些插件涵盖从版本控制、构建工具、代码质量、构建通知、集成外部系统、UI定制、游戏等等各个方面。





## Jenkins 你都用了哪些插件



- 最常用
  - [SSH Plugin](https://blog.csdn.net/taiyangdao/article/details/70163225) ：这个可以登陆远程服务器，然后在上面执行脚本。
  - [Role Strategy Plugin](https://blog.csdn.net/wanglei_storage/article/details/78339409) ：用来精细化管理权限，基于角色维度。
  - [Git plugin](https://wiki.jenkins.io/display/JENKINS/Git+Plugin) ：对 Git 的支持。
  - [SCM](https://blog.csdn.net/itfootball/article/details/45061093) ：除 CVS 和 Subversion 外，需要实现与源代码控制系统支持的插件。
- 根据情况
  - Triggers ：事件监听并触发构建的插件。例如，URL 改变触发器将监控一个 URL ，当地址内容发生改变，这个触发器就将执行一次作业。
  - Build tools ：实现额外构建工具的插件，如 MSBuild 和 Rake 。如果您想在 Hudson 中构建非 Java 的软件时这些就特别有用。
  - Build wrappers ：通常涉及时执行在受控制的构建过程本身之前和之后事件的插件。例如，VMware 插件将在构建之前启动一个客户虚拟机，建立和然后在构建完成后关闭它。这在您可能需要访问 VM 以执行单元测试的情况下是非常有用的。





## Jenkins 如何实现发布和回滚



- 发布：Jenkins 配置好代码路径(SVN 或 Git)，然后拉代码，打tag 。需要编译就编译，编译之后推送到发布服务器（Jenkins 里面可以调脚本），然后从分发服务器往下分发到业务服务器上。

- 回滚：按照版本号到发布服务器找到对应的版本推送。

  > 一定要打 Tag 噢，不然回滚会比较麻烦。





## Jenkins 怎么做备份与恢复



目前有三种方式：

- 1、使用插件备份。

  > 例如 ThinBackup 插件。

- 2、使用 Rsync 异地备份。

- 3、使用版本控制工具进行备份。